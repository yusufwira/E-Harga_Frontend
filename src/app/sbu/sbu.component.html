
<nb-card status="info" style='text-align: center'>
  <nb-card-header>SBU</nb-card-header>
  <nb-card-body>
  <input type="text" placeholder="Cari Data" nbInput (input)='search($event)' style="width: 500px;"><br><br>
  </nb-card-body>  
</nb-card>

<button nbButton status="primary" routerLink="/sbu/create" *ngIf='hak'><nb-icon icon="plus"> </nb-icon>Tambah Data</button>
<br>
<br>
<nb-card status="warning" *ngFor="let data of datas">
  <nb-card-header>{{data.nama}}</nb-card-header>
  <nb-card-body>
   Kode : {{data.kode}} <br>
   Nama : {{data.nama}}<br>
   Spek : {{data.spek}}<br>
   Satuan : {{data.satuan}}<br>
   Harga (RP) : {{data.hargafinal}}<br>
  </nb-card-body>
  <nb-card-footer>
	<button nbButton size="small" status="info" (click)="DetailSbu(dialog1 , data.kode, true)"><nb-icon icon="list"></nb-icon></button> &nbsp;  
	<button nbButton size="small" status="success" *ngIf='hak' routerLink="/sbu/update/{{data.kode}}"><nb-icon icon="edit"></nb-icon></button> &nbsp;  
	<button nbButton size="small" status="danger" *ngIf='hak' (click)="deleterSbu(dialog2, data.kode)" routerLink="/sbu/"><nb-icon icon="trash"></nb-icon></button> &nbsp;  
  </nb-card-footer>
</nb-card>


 <ng-template #dialog1 let-data let-ref="dialogRef">
      <nb-card>
        <nb-card-header>Detai Data SBU</nb-card-header>
        <nb-card-body>Kode:{{kode}} <br>
                      Nama: {{nama}} <br>
                      Merk : {{merk}} <br>
                      Spek : {{spek}} <br>
                      Satuan : {{satuan}}<br><br>
                      Nama Toko Survey 1 : {{namaTokoS1}}<br>
                      Merk Survey 1 : {{merkS1}}<br>
                      Harga : {{hargaS1}}<br>
                      Keterangan Survey 1 : {{KeteranganS1}}<br><br>
                      Nama Toko Survey 2 : {{namaTokoS2}}<br>
                      Merk Survey 2 : {{merkS2}}<br>
                      Harga : {{hargaS2}}<br>
                      Keterangan Survey 2 : {{KeteranganS2}}<br><br>
                      Nama Toko Survey 3 : {{namaTokoS3}}<br>
                      Merk Survey 3 : {{merkS3}}<br>
                      Harga : {{hargaS3}}<br>
                      Keterangan Survey 3 : {{KeteranganS3}}<br><br>
                      Nama Toko Survey 4 : {{namaTokoS4}}<br>
                      Merk Survey 4 : {{merkS4}}<br>
                      Harga : {{hargaS4}}<br>
                      Keterangan Survey 4 : {{KeteranganS4}}<br><br>
                      Harga Final : {{hargaFinal}}<br>
                      Alasan : {{alasan}}

                    </nb-card-body>
        <nb-card-footer>
          <button nbButton (click)="ref.close()">Close</button>
        </nb-card-footer>
      </nb-card>
    </ng-template>


    <ng-template #dialog2 let-data let-ref="dialogRef">
      <nb-card status='danger'>
        <nb-card-header>Delete</nb-card-header>
        <nb-card-body>Apakah Anda yakin hapus ?
                    </nb-card-body>
        <nb-card-footer>
           <button nbButton status='danger' (click)="ref.close()" (click)="DeleteSbu(dialog3,data)">Hapus<nb-icon icon="trash"></nb-icon></button>&nbsp;
          <button nbButton status='primary' (click)="ref.close()">Cancel</button>
        </nb-card-footer>
      </nb-card>
    </ng-template>


 <ng-template #dialog3 let-data let-ref="dialogRef">
      <nb-card status='warning'>
        <nb-card-header>KESALAHAN DATA</nb-card-header>
        <nb-card-body>Data Tidak Bisa DIHAPUS karena data masih terdapat pada data HSPK
                    </nb-card-body>
        <nb-card-footer>
          
          <button nbButton status='primary' (click)="ref.close()">Cancel</button>
        </nb-card-footer>
      </nb-card>
    </ng-template>


